/* ====== DESIGN TOKENS ====== */
:root {
  /* Layout */
  --app-max: 420px;
  --app-content-w: var(--app-max);
  --app-w: clamp(360px, 92vw, var(--app-max));
  --page-gutter: 16px;
  --modal-gutter: 16px;

  /* Spacing */
  --space-0: 0;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;

  /* Radii */
  --radius-1: 8px;
  --radius-2: 12px;
  --radius-3: 16px;
  --radius-pill: 9999px;
  --radius-round: 999px;
  --day-radius: 12px;
  --card-radius: 14px;

  /* Typography */
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --fs-xs: 12px;
  --fs-sm: 14px;
  --fs-md: 15px;
  --fs-lg: 16px;
  --fs-xl: 20px;

  /* Motion */
  --dur-1: .14s;
  --dur-2: .2s;
  --dur-3: .3s;
  --ease: cubic-bezier(.22,1,.36,1);

  /* Shadows */
  --shadow-sm: 0 2px 6px rgba(0,0,0,.18);
  --shadow-md: 0 8px 24px rgba(0,0,0,.25);
  --shadow-lg: 0 18px 40px rgba(0,0,0,.35);
  --shadow: 0 8px 24px rgba(0,0,0,.25);

  /* Base colors (dark theme by default) */
  --bg: #0f1114;
  --surface-1: #151922;
  --surface-2: #1d2330;
  --surface-3: color-mix(in oklab, var(--surface-2) 88%, #060708 12%);
  --surface: var(--surface-1);
  --card: var(--surface-1);

  --text: #e9edf1;
  --text-primary: var(--text);
  --text-muted: #a7afbc;
  --text-secondary: var(--text-muted);

  --stroke: rgba(255,255,255,.08);
  --divider: var(--stroke);
  --border: var(--stroke);
  --line: var(--stroke);
  --hover: color-mix(in oklab, var(--surface-2) 92%, var(--text) 8%);

  --primary: #6a4dfb;
  --primary-contrast: #ffffff;
  --brand: var(--primary);
  --brand-1: var(--primary);
  --brand-2: color-mix(in oklab, var(--primary) 72%, #352781 28%);
  --on-brand: var(--primary-contrast);
  --accent: var(--primary);
  --accent-10: color-mix(in oklab, var(--accent) 18%, transparent);
  --accent-20: color-mix(in oklab, var(--accent) 28%, transparent);

  /* Mood palette */
  --ochre: #caa24d;
  --ochre-strong: #b67f1b;
  --ochre-strong-ring: rgba(0,0,0,.22);
  --ochre-soft: #d8b25a;
  --ochre-soft-ring: rgba(0,0,0,.18);
  --today-ink: #ffffff;
  --day-ink-on-ochre: var(--today-ink);

 --pos: #25d39a;
  --neg: #4b7bff;
  --zero: var(--ochre);

  --success: var(--pos);
  --info: var(--neg);
  --warning: var(--ochre);

  --mood-good: var(--pos);
  --mood-neutral: var(--zero);
  --mood-sad: var(--neg);

  --palette-surface: var(--surface-1);
  --palette-surface-variant: #0f1318;
  --palette-bg: var(--surface-2);
  --palette-text: var(--text);
  --palette-text-muted: var(--text-muted);
  --palette-border: rgba(255,255,255,.14);
  --palette-border-strong: rgba(233, 237, 241, .22);
  --palette-hover: rgba(255,255,255,.06);
  --palette-good: #3adc70;
  --palette-neutral: #facc56;
  --palette-sad: #7da7ff;
  
  --day-border: color-mix(in oklab, #000 40%, transparent);
  --day-bg: var(--surface-2);
  --calendar-text-contrasted: #ffffff;

  --bucket-pos50: #016e29;
  --bucket-pos40: color-mix(in srgb, #016e29 80%, #ffffff 20%);
  --bucket-pos30: color-mix(in srgb, #016e29 65%, #ffffff 35%);
  --bucket-pos20: color-mix(in srgb, #016e29 50%, #ffffff 50%);
  --bucket-pos10: color-mix(in srgb, #016e29 35%, #ffffff 65%);
  --bucket-zero:  #fae370;
   
  --bucket-neg10: color-mix(in srgb, #1d4ed8 35%, #ffffff 65%);
  --bucket-neg20: color-mix(in srgb, #1d4ed8 50%, #ffffff 50%);
  --bucket-neg30: color-mix(in srgb, #1d4ed8 65%, #ffffff 35%);
  --bucket-neg40: color-mix(in srgb, #1d4ed8 80%, #ffffff 20%);
  --bucket-neg50: #1d4ed8;

  /* Calendar sizing */
  --day-gap: 10px;
  --day-min: 44px;
  --day-max: 52px;

    /* Misc */
  --modal-bg: var(--card);
  --chip-bg: rgba(233, 237, 241, .06);
  --chip-bg-hover: rgba(233, 237, 241, .12);
  --btn-primary: var(--primary);
  --btn-primary-ink: var(--primary-contrast);
  --btn-ring: rgba(0,0,0,.3);

    --axis-color: #5f6368;
  --grid-weak: rgba(233, 237, 241, .18);
  --grid-zero: rgba(233, 237, 241, .55);
  
  --slider-blue: #3b82f6;
  --slider-green: #22c55e;
  --slider-mid: #e9edf3;

  --nav-height: 72px;
}

:root[data-theme="light"],
body[data-theme="light"] {
  --bg: #f5f7fb;
  --surface-1: #ffffff;
  --surface-2: #f1f3f7;
  --surface-3: color-mix(in oklab, #ffffff 94%, #0b121a 6%);
  --surface: var(--surface-1);
  --card: var(--surface-1);

  --text: #0e1320;
  --text-primary: var(--text);
  --text-muted: #5a6578;
  --text-secondary: var(--text-muted);

  --stroke: rgba(0,0,0,.08);
  --divider: var(--stroke);
  --border: var(--stroke);
  --line: var(--stroke);
  --hover: rgba(15, 19, 32, .08);

  --palette-surface: var(--surface-1);
  --palette-surface-variant: #f5f7fb;
  --palette-bg: var(--surface-2);
  --palette-text: var(--text);
  --palette-text-muted: var(--text-muted);
  --palette-border: rgba(0,0,0,.12);
  --palette-border-strong: #c3c9d4;
  --palette-hover: rgba(15, 19, 32, .08);
  --palette-good: #22c55e;
  --palette-neutral: #eab308;
  --palette-sad: #3b82f6;

  --day-border: rgba(15, 18, 26, .08);
  --day-bg: #ffffff;
  --calendar-text-contrasted: #111214;

  --chip-bg: rgba(15, 18, 26, .05);
  --chip-bg-hover: rgba(15, 18, 26, .09);
  --btn-ring: rgba(79, 70, 229, .24)

  --axis-color: #5f6368;
  --grid-weak: rgba(0,0,0,.08);
  --grid-zero: rgba(0,0,0,.55);
}

:root[data-theme="dark"],
body[data-theme="dark"] {
  --bg: #0f1114;
  --surface-1: #151922;
  --surface-2: #1d2330;
  --surface-3: color-mix(in oklab, var(--surface-2) 88%, #060708 12%);
  --surface: var(--surface-1);
  --card: var(--surface-1);

  --text: #e9edf1;
  --text-primary: var(--text);
  --text-muted: #a7afbc;
  --text-secondary: var(--text-muted);

  --stroke: rgba(255,255,255,.08);
  --divider: var(--stroke);
  --border: var(--stroke);
  --line: var(--stroke);
  --hover: color-mix(in oklab, var(--surface-2) 92%, var(--text) 8%);

  --palette-surface: var(--surface-1);
  --palette-surface-variant: #0f1318;
  --palette-bg: var(--surface-2);
  --palette-text: var(--text);
  --palette-text-muted: var(--text-muted);
  --palette-border: rgba(255,255,255,.14);
  --palette-border-strong: rgba(233, 237, 241, .22);
  --palette-hover: rgba(255,255,255,.06);
  --palette-good: #3adc70;
  --palette-neutral: #facc56;
  --palette-sad: #7da7ff;

  --day-border: color-mix(in oklab, #000 40%, transparent);
  --day-bg: var(--surface-2);
  --calendar-text-contrasted: #ffffff;

  --chip-bg: rgba(233, 237, 241, .06);
  --chip-bg-hover: rgba(233, 237, 241, .12);
  --btn-ring: rgba(0,0,0,.3);

  --axis-color: #9aa2b1;
  --grid-weak: rgba(233, 237, 241, .18);
  --grid-zero: rgba(233, 237, 241, .55);
}
