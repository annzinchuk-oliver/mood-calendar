/* ====== TOKENS (как было раньше) ====== */

/* Светлая тема */
:root {

  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;


  --radius-1: 8px;
  --radius-2: 12px;
  --radius-3: 16px;
  --radius-pill: 9999px;

  /* Typography */
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --fs-xs: 12px;
  --fs-sm: 14px;
  --fs-md: 15px;
  --fs-lg: 16px;
  --fs-xl: 20px;

  /* Motion */
  --dur-1: .14s;
  --dur-2: .2s;
  --dur-3: .3s;
  --ease: cubic-bezier(.22,1,.36,1);

  /* Elevation (используются компонентами) */
  --shadow-sm: 0 2px 6px rgba(0,0,0,.08);
  --shadow-md: 0 8px 24px rgba(0,0,0,.12);
  --shadow-lg: 0 18px 40px rgba(0,0,0,.18);
   
  /* App layout */
  --app-content-w: 420px;        /* ширина центральной колонки по умолчанию */
  --page-gutter: 16px;           /* поля слева/справа */
  --modal-gutter: 16px;          /* безопасные отступы */

     /* Calendar sizing */
  --day-gap: 10px;              /* расстояние между клетками */
  --day-min: 44px;               /* минимальная сторона клетки */
  --day-max: 52px;               /* максимальная сторона клетки */

  --card-radius: 14px;
  --surface: #ffffff;
  --calendar-text-contrasted: #111;
  --yellow: #CDAA4A;

  --palette-surface: #ffffff;
  --palette-surface-variant: #f5f7fb;
   
  --text: var(--text-primary);
  --text-primary: #111214;
  --text-muted: var(--text-secondary);
  --bg: var(--surface);
  --card: var(--surface);
  --surface-1: var(--surface);
  --surface-2: var(--surface);
  --surface-3: color-mix(in srgb, #0b121a 6%, #ffffff 94%);

  --line: rgba(15, 18, 26, .08);

  --brand: var(--brand-1);
  --brand-2: #7E57FF;
  --on-brand: var(--btn-primary-ink);
   
  --accent: var(--brand);
  --accent-10: color-mix(in srgb, var(--accent) 18%, transparent);
  --accent-20: color-mix(in srgb, var(--accent) 28%, transparent);
  --chip-bg: rgba(15, 18, 26, .05);
  --chip-bg-hover: rgba(15, 18, 26, .09);
  --modal-bg: var(--card);
  --divider: rgba(15, 18, 26, .08);
  --axis-color: #5f6368;
  --grid-weak: rgba(0, 0, 0, .08);
  --grid-zero: rgba(0, 0, 0, .55);

  /* системные цвета */
  --palette-border: rgba(0,0,0,.12);
  --palette-border-strong: #c3c9d4;
  --palette-hover: #eef1f7;
  --day-border: color-mix(in srgb, #000 30%, transparent);
  --day-bg: #ffffff;

  --palette-bg: var(--palette-surface-variant);
  --palette-text: var(--text-primary);
  --palette-text-muted: var(--text-muted);

  --palette-good:    #22c55e;
  --palette-neutral: #eab308;
  --palette-sad:     #3b82f6;

  /* бакеты календаря */
  --bucket-pos50: #016e29;
  --bucket-pos40: color-mix(in srgb, #016e29 80%, #ffffff 20%);
  --bucket-pos30: color-mix(in srgb, #016e29 65%, #ffffff 35%);
  --bucket-pos20: color-mix(in srgb, #016e29 50%, #ffffff 50%);
  --bucket-pos10: color-mix(in srgb, #016e29 35%, #ffffff 65%);

  --bucket-zero:  #fae370;
   
  --bucket-neg10: color-mix(in srgb, #1d4ed8 35%, #ffffff 65%);
  --bucket-neg20: color-mix(in srgb, #1d4ed8 50%, #ffffff 50%);
  --bucket-neg30: color-mix(in srgb, #1d4ed8 65%, #ffffff 35%);
  --bucket-neg40: color-mix(in srgb, #1d4ed8 80%, #ffffff 20%);
  --bucket-neg50: #1d4ed8;
  --ochre-strong: #B67F1B;     /* тёплая охра */
  --ochre-strong-ring: rgba(0,0,0,.22);
  --ochre-soft: #D8B25A;
  --ochre-soft-ring: rgba(0,0,0,.18);
  --day-ink-on-ochre: #111;
  --app-w: clamp(360px, 92vw, 480px);
  --day-radius: 12px;
  --text-secondary: #6b7280;
  --brand-1: #6E4CF6;
  --btn-primary: #6E4CF6;
  --btn-primary-ink: #fff;
  --btn-ring: rgba(0,0,0,.14);
  --border: rgba(0,0,0,.12);
  --hover: rgba(0,0,0,.04);
}

/* Тёмная тема */
[data-theme="dark"] {

  --surface: #121316;
  --palette-surface: #171c22;
  --palette-surface-variant: #0f1318;
  --text: var(--text-primary);
  --text-primary: #f7f7f7;
  --text-muted: var(--text-secondary);
  --bg: #18191c;
  --card: var(--surface);
  --surface-1: var(--surface);
  --surface-2: #1b1c20;
  --surface-3: #1d242c;

  --line: rgba(230, 237, 245, .10);

  --calendar-text-contrasted: #fff;

  --brand: #7c4dff;
  --brand-2: color-mix(in srgb, #7c4dff 72%, #433196 28%);
  --on-brand: #ffffff;

  --palette-border: rgba(255,255,255,.14);
  --palette-border-strong: rgba(230, 237, 245, .22);
  --palette-hover: rgba(255, 255, 255, .06);
  --day-border: rgba(231, 237, 245, .22);
  --day-bg: color-mix(in srgb, #ffffff 5%, transparent);
   
  --palette-bg: var(--palette-surface-variant);
  --palette-text: var(--text-primary);
  --palette-text-muted: var(--text-muted);

  --palette-good: #3adc70;
  --palette-neutral: #f0c75a;
  --palette-sad: #5e8ff2;

  --bucket-pos50: #1fa857;
  --bucket-pos40: color-mix(in srgb, #1fa857 78%, #0f1318 22%);
  --bucket-pos30: color-mix(in srgb, #1fa857 62%, #0f1318 38%);
  --bucket-pos20: color-mix(in srgb, #1fa857 48%, #0f1318 52%);
  --bucket-pos10: color-mix(in srgb, #1fa857 34%, #0f1318 66%);

  --bucket-zero:  #f0c75a;
  --bucket-neg10: color-mix(in srgb, #5e8ff2 42%, #0f1318 58%);
  --bucket-neg20: color-mix(in srgb, #4f7fe4 55%, #0f1318 45%);
  --bucket-neg30: color-mix(in srgb, #436fe0 68%, #0f1318 32%);
  --bucket-neg40: color-mix(in srgb, #3a63d6 80%, #0f1318 20%);
   
  --bucket-neg50: #1e3a8a;

  --accent: #8b5cf6;
  --accent-10: color-mix(in srgb, var(--accent) 16%, transparent);
  --accent-20: color-mix(in srgb, var(--accent) 28%, transparent);
  --chip-bg: rgba(255,255,255,.06);
  --chip-bg-hover: rgba(255,255,255,.10);

  --modal-bg: var(--surface-2);
  --divider: rgba(230,237,245,.12);

  --axis-color: #a9b3bf;
  --grid-weak: rgba(231,237,245,.08);
  --grid-zero: rgba(231,237,245,.55);
}

  --text-secondary: #a1a1aa;
  --ochre-soft: #C79D3A;
  --ochre-soft-ring: rgba(0,0,0,.3);
  --border: rgba(255,255,255,.16);
  --hover: rgba(255,255,255,.08);
}

/* === TOKENS: базовые, если вдруг отсутствуют === */
:root {
  /* ширина приложения (как раньше «колонка») */
  --app-w: clamp(360px, 92vw, 480px);
  --page-gutter: 16px;

  /* типографика и радиусы */
  --fs-sm: 14px;
  --fs-md: 15px;
  --fs-xl: 20px;
  --radius-3: 16px;
  --day-radius: 12px;

  /* нейтральные поверхности/текст */
  --surface: #fff;
  --surface-1: var(--surface);
  --surface-2: var(--surface);
  --text: #111;
  --text-secondary: #6b7280;

  /* охра для «сегодня» и нулевого дня */
  --ochre: #C79D3A;           /* тёплая охра */
  --ochre-soft: #C79D3A;      /* мягкая */
  --bucket-zero: #F0C75A;     /* 0 (нейтральный) */

  /* лёгкие тени и анимации */
  --shadow-sm: 0 2px 6px rgba(0, 0, 0, .08);
  --shadow-lg: 0 18px 40px rgba(0, 0, 0, .18);
  --ease: cubic-bezier(.22,1,.36,1);
}

/* темная тема: важные контрастные моменты */
[data-theme="dark"] {
  --surface: #121418;
  --surface-1: #171a1f;
  --surface-2: #1b1f26;
  --text: #e9eef7;
  --text-secondary: #a4acb9;

  /* цифры на ячейках календаря должны читаться */
  --calendar-text-contrasted: #fff;
}
